<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot a QQ chart — chart.QQPlot â€¢ PerformanceAnalytics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">PerformanceAnalytics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pa-charts.html">PerformanceAnalytics Charts and Tables Overview</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/braverock/PerformanceAnalytics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot a QQ chart</h1>
    </div>

    
    <p>Plot the return data against any theoretical distribution.</p>
    

    <pre class="usage"><span class='fu'>chart.QQPlot</span>(<span class='no'>R</span>, <span class='kw'>distribution</span> <span class='kw'>=</span> <span class='st'>"norm"</span>, <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='fu'>paste</span>(<span class='no'>distribution</span>, <span class='st'>"Quantiles"</span>), <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>las</span> <span class='kw'>=</span> <span class='fu'>par</span>(<span class='st'>"las"</span>),
  <span class='kw'>envelope</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>4</span>), <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>pch</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>cex</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>line</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"quartiles"</span>, <span class='st'>"robust"</span>, <span class='st'>"none"</span>),
  <span class='kw'>element.color</span> <span class='kw'>=</span> <span class='st'>"darkgray"</span>, <span class='kw'>cex.axis</span> <span class='kw'>=</span> <span class='fl'>0.8</span>, <span class='kw'>cex.legend</span> <span class='kw'>=</span> <span class='fl'>0.8</span>,
  <span class='kw'>cex.lab</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>cex.main</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>xaxis</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>yaxis</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>R</th>
      <td><p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p></td>
    </tr>
    <tr>
      <th>distribution</th>
      <td><p>root name of comparison distribution - e.g., 'norm' for
the normal distribution; 't' for the t-distribution. See examples for other
ideas.</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>set the y-axis label, as in <code>plot</code></p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>set the x-axis label, as in <code>plot</code></p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>set the chart title, same as in <code>plot</code></p></td>
    </tr>
    <tr>
      <th>las</th>
      <td><p>set the direction of axis labels, same as in <code>plot</code></p></td>
    </tr>
    <tr>
      <th>envelope</th>
      <td><p>confidence level for point-wise confidence envelope, or
FALSE for no envelope.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>vector of point labels for interactive point identification,
or FALSE for no labels.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>color for points and lines; the default is the <em>second</em>
entry in the current color palette (see 'palette' and 'par').</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>set the line width, as in <code>plot</code></p></td>
    </tr>
    <tr>
      <th>pch</th>
      <td><p>symbols to use, see also <code>plot</code></p></td>
    </tr>
    <tr>
      <th>cex</th>
      <td><p>symbols to use, see also <code>plot</code></p></td>
    </tr>
    <tr>
      <th>line</th>
      <td><p>'quartiles' to pass a line through the quartile-pairs, or
'robust' for a robust-regression line; the latter uses the 'rlm' function
in the 'MASS' package. Specifying 'line = "none"' suppresses the line.</p></td>
    </tr>
    <tr>
      <th>element.color</th>
      <td><p>provides the color for drawing chart elements, such as
the box lines, axis lines, etc. Default is "darkgray"</p></td>
    </tr>
    <tr>
      <th>cex.axis</th>
      <td><p>The magnification to be used for axis annotation relative to
the current setting of 'cex'</p></td>
    </tr>
    <tr>
      <th>cex.legend</th>
      <td><p>The magnification to be used for sizing the legend
relative to the current setting of 'cex'</p></td>
    </tr>
    <tr>
      <th>cex.lab</th>
      <td><p>The magnification to be used for x- and y-axis labels
relative to the current setting of 'cex'</p></td>
    </tr>
    <tr>
      <th>cex.main</th>
      <td><p>The magnification to be used for the main title relative to
the current setting of 'cex'.</p></td>
    </tr>
    <tr>
      <th>xaxis</th>
      <td><p>if true, draws the x axis</p></td>
    </tr>
    <tr>
      <th>yaxis</th>
      <td><p>if true, draws the y axis</p></td>
    </tr>
    <tr>
      <th>ylim</th>
      <td><p>set the y-axis limits, same as in <code>plot</code></p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>any other passthru parameters to the distribution function</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A Quantile-Quantile (QQ) plot is a scatter plot designed to compare the data
to the theoretical distributions to visually determine if the observations
are likely to have come from a known population. The empirical quantiles are
plotted to the y-axis, and the x-axis contains the values of the theorical
model.  A 45-degree reference line is also plotted. If the empirical data
come from the population with the choosen distribution, the points should
fall approximately along this reference line. The larger the departure from
the reference line, the greater the evidence that the data set have come
from a population with a different distribution.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>main code forked/borrowed/ported from the excellent:  Fox,
John (2007) <em>car: Companion to Applied Regression</em> 
<a href='http://socserv.socsci.mcmaster.ca/jfox/'>http://socserv.socsci.mcmaster.ca/jfox/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='http://www.rdocumentation.org/packages/stats/topics/qqnorm'>qqplot</a></code>  
<code>qq.plot</code> 
<code>plot</code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>MASS</span>)
<span class='fu'>data</span>(<span class='no'>managers</span>)

<span class='no'>x</span> <span class='kw'>=</span> <span class='fu'><a href='checkData.html'>checkData</a></span>(<span class='no'>managers</span>[,<span class='fl'>2</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>], <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"vector"</span>)

<span class='co'>#layout(rbind(c(1,2),c(3,4)))</span>

<span class='co'># Panel 1, Normal distribution</span>
<span class='fu'>chart.QQPlot</span>(<span class='no'>x</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Normal Distribution"</span>, <span class='kw'>distribution</span> <span class='kw'>=</span> <span class='st'>'norm'</span>, <span class='kw'>envelope</span><span class='kw'>=</span><span class='fl'>0.95</span>)</div><div class='img'><img src='chart.QQPlot-1.png' alt='' width='700' height='432.632880098887' /></div><div class='input'><span class='co'># Panel 2, Log-Normal distribution</span>
<span class='no'>fit</span> <span class='kw'>=</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/MASS/topics/fitdistr'>fitdistr</a></span>(<span class='fl'>1</span>+<span class='no'>x</span>, <span class='st'>'lognormal'</span>)
<span class='fu'>chart.QQPlot</span>(<span class='fl'>1</span>+<span class='no'>x</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Log-Normal Distribution"</span>, <span class='kw'>envelope</span><span class='kw'>=</span><span class='fl'>0.95</span>, <span class='kw'>distribution</span><span class='kw'>=</span><span class='st'>'lnorm'</span>)</div><div class='img'><img src='chart.QQPlot-2.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>#other options could include
#, meanlog = fit$estimate[[1]], sdlog = fit$estimate[[2]])

</div><span class='co'># NOT RUN {</span>
<span class='co'># Panel 3, Skew-T distribution</span>
<span class='fu'>library</span>(<span class='no'>sn</span>)
<span class='no'>fit</span> <span class='kw'>=</span> <span class='fu'>st.mle</span>(<span class='kw'>y</span><span class='kw'>=</span><span class='no'>x</span>)
<span class='fu'>chart.QQPlot</span>(<span class='no'>x</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Skew T Distribution"</span>, <span class='kw'>envelope</span><span class='kw'>=</span><span class='fl'>0.95</span>,
             <span class='kw'>distribution</span> <span class='kw'>=</span> <span class='st'>'st'</span>, <span class='kw'>location</span> <span class='kw'>=</span> <span class='no'>fit</span>$<span class='no'>dp</span><span class='kw'>[[</span><span class='fl'>1</span>]],
             <span class='kw'>scale</span> <span class='kw'>=</span> <span class='no'>fit</span>$<span class='no'>dp</span><span class='kw'>[[</span><span class='fl'>2</span>]], <span class='kw'>shape</span> <span class='kw'>=</span> <span class='no'>fit</span>$<span class='no'>dp</span><span class='kw'>[[</span><span class='fl'>3</span>]], <span class='kw'>df</span><span class='kw'>=</span><span class='no'>fit</span>$<span class='no'>dp</span><span class='kw'>[[</span><span class='fl'>4</span>]])

<span class='co'>#Panel 4: Stable Parietian</span>
<span class='fu'>library</span>(<span class='no'>fBasics</span>)
<span class='no'>fit.stable</span> <span class='kw'>=</span> <span class='fu'>stableFit</span>(<span class='no'>x</span>,<span class='kw'>doplot</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='fu'>chart.QQPlot</span>(<span class='no'>x</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Stable Paretian Distribution"</span>, <span class='kw'>envelope</span><span class='kw'>=</span><span class='fl'>0.95</span>,
             <span class='kw'>distribution</span> <span class='kw'>=</span> <span class='st'>'stable'</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fu'>fit</span>(<span class='no'>stable.fit</span>)$<span class='no'>estimate</span><span class='kw'>[[</span><span class='fl'>1</span>]],
             <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fu'>fit</span>(<span class='no'>stable.fit</span>)$<span class='no'>estimate</span><span class='kw'>[[</span><span class='fl'>2</span>]], <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fu'>fit</span>(<span class='no'>stable.fit</span>)$<span class='no'>estimate</span><span class='kw'>[[</span><span class='fl'>3</span>]],
             <span class='kw'>delta</span> <span class='kw'>=</span> <span class='fu'>fit</span>(<span class='no'>stable.fit</span>)$<span class='no'>estimate</span><span class='kw'>[[</span><span class='fl'>4</span>]], <span class='kw'>pm</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='co'># }</span><div class='input'>#end examples

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
John Fox, ported by Peter Carl

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Brian G. Peterson, Peter Carl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
