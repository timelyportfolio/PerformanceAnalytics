<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>calculate metrics on up and down markets for the benchmark asset — UpDownRatios â€¢ PerformanceAnalytics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">PerformanceAnalytics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pa-charts.html">PerformanceAnalytics Charts and Tables Overview</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/braverock/PerformanceAnalytics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>calculate metrics on up and down markets for the benchmark asset</h1>
    </div>

    
    <p>Calculate metrics on how the asset in R performed in up and down markets,
measured by periods when the benchmark asset was up or down.</p>
    

    <pre class="usage"><span class='fu'>UpDownRatios</span>(<span class='no'>Ra</span>, <span class='no'>Rb</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Capture"</span>, <span class='st'>"Number"</span>, <span class='st'>"Percent"</span>),
  <span class='kw'>side</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Up"</span>, <span class='st'>"Down"</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Ra</th>
      <td><p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p></td>
    </tr>
    <tr>
      <th>Rb</th>
      <td><p>return vector of the benchmark asset</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>"Capture", "Number", or "Percent" to indicate which measure to
return</p></td>
    </tr>
    <tr>
      <th>side</th>
      <td><p>"Up" or "Down" market statistics</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is a function designed to calculate several related metrics:</p>
<p>Up (Down) Capture Ratio: this is a measure of an investment's compound
return when the benchmark was up (down) divided by the benchmark's compound
return when the benchmark was up (down). The greater (lower) the value, the
better.</p>
<p>Up (Down) Number Ratio: similarly, this is a measure of the number of
periods that the investment was up (down) when the benchmark was up (down),
divided by the number of periods that the Benchmark was up (down).</p>
<p>Up (Down) Percentage Ratio: this is a measure of the number of periods that
the investment outperformed the benchmark when the benchmark was up (down),
divided by the number of periods that the benchmark was up (down). Unlike
the prior two metrics, in both cases a higher value is better.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bacon, C. <em>Practical Portfolio Performance Measurement and
Attribution</em>. Wiley. 2004. p. 47</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>data</span>(<span class='no'>managers</span>)
<span class='fu'>UpDownRatios</span>(<span class='no'>managers</span>[,<span class='fl'>1</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='no'>managers</span>[,<span class='fl'>8</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>])</div><div class='output co'>#&gt;                            HAM1
#&gt; SP500 TR Up Capture   0.6346612
#&gt; SP500 TR Down Capture 0.2076304
#&gt; SP500 TR Up Number    0.8941176
#&gt; SP500 TR Down Number  0.5106383
#&gt; SP500 TR Up Percent   0.2941176
#&gt; SP500 TR Down Percent 0.8085106</div><div class='input'><span class='fu'>UpDownRatios</span>(<span class='no'>managers</span>[,<span class='fl'>1</span>:<span class='fl'>6</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='no'>managers</span>[,<span class='fl'>8</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>])</div><div class='output co'>#&gt;                            HAM1       HAM2      HAM3      HAM4      HAM5
#&gt; SP500 TR Up Capture   0.6346612 0.66155321 0.7913921 0.9272348 0.5529663
#&gt; SP500 TR Down Capture 0.2076304 0.04392011 0.3669345 0.7007885 0.3520355
#&gt; SP500 TR Up Number    0.8941176 0.68354430 0.8705882 0.7647059 0.7083333
#&gt; SP500 TR Down Number  0.5106383 0.69565217 0.7659574 0.6595745 0.7241379
#&gt; SP500 TR Up Percent   0.2941176 0.36708861 0.4235294 0.4588235 0.3958333
#&gt; SP500 TR Down Percent 0.8085106 0.86956522 0.8085106 0.5319149 0.8275862
#&gt;                            HAM6
#&gt; SP500 TR Up Capture   0.8068482
#&gt; SP500 TR Down Capture 0.2397750
#&gt; SP500 TR Up Number    0.8372093
#&gt; SP500 TR Down Number  0.5238095
#&gt; SP500 TR Up Percent   0.5348837
#&gt; SP500 TR Down Percent 0.7142857</div><div class='input'><span class='fu'>UpDownRatios</span>(<span class='no'>managers</span>[,<span class='fl'>1</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='no'>managers</span>[,<span class='fl'>8</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"Capture"</span>)</div><div class='output co'>#&gt;                            HAM1
#&gt; SP500 TR Up Capture   0.6346612
#&gt; SP500 TR Down Capture 0.2076304</div><div class='input'><span class='co'># Up Capture:</span>
<span class='fu'>UpDownRatios</span>(<span class='no'>managers</span>[,<span class='fl'>1</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='no'>managers</span>[,<span class='fl'>8</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='kw'>side</span><span class='kw'>=</span><span class='st'>"Up"</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"Capture"</span>)</div><div class='output co'>#&gt; [1] 0.6346612</div><div class='input'><span class='co'># Down Capture:</span>
<span class='fu'>UpDownRatios</span>(<span class='no'>managers</span>[,<span class='fl'>1</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='no'>managers</span>[,<span class='fl'>8</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>FALSE</span>], <span class='kw'>side</span><span class='kw'>=</span><span class='st'>"Down"</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"Capture"</span>)</div><div class='output co'>#&gt; [1] 0.2076304</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Peter Carl

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Brian G. Peterson, Peter Carl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
