<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Functions for doing Moment Component Analysis (MCA) of financial time series — MCA â€¢ PerformanceAnalytics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">PerformanceAnalytics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pa-charts.html">PerformanceAnalytics Charts and Tables Overview</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/braverock/PerformanceAnalytics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Functions for doing Moment Component Analysis (MCA) of financial time series</h1>
    </div>

    
    <p>calculates MCA coskewness and cokurtosis matrices</p>
    

    <pre class="usage"><span class='fu'>M3.MCA</span>(<span class='no'>R</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>as.mat</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>M4.MCA</span>(<span class='no'>R</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>as.mat</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>R</th>
      <td><p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>the number of components to use</p></td>
    </tr>
    <tr>
      <th>as.mat</th>
      <td><p>TRUE/FALSE whether to return the full moment matrix or only
the vector with the unique elements (the latter is advised for speed), default
TRUE</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>any other passthru parameters</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The coskewness and cokurtosis matrices are defined as the matrices of dimension 
p x p^2 and p x p^3 containing the third and fourth order central moments. They
are useful for measuring nonlinear dependence between different assets of the 
portfolio and computing modified VaR and modified ES of a portfolio.</p>
<p>MCA is a generalization of PCA to higher moments. The principal components in 
MCA are the ones that maximize the coskewness and cokurtosis present when projecting
onto these directions. It was introduced by Lim and Morton (2007) and applied to financial returns
data by Jondeau and Rockinger (2017)</p>
<p>If a coskewness matrix (argument M3) or cokurtosis matrix (argument M4) is passed in using ..., then 
MCA is performed on the given comoment matrix instead of the sample coskewness or cokurtosis matrix.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Lim, Hek-Leng and Morton, Jason. 2007. Principal Cumulant Component Analysis. working paper</p>
<p>Jondeau, Eric and Jurczenko, Emmanuel. 2017. Moment Component Analysis: An Illustration 
With International Stock Markets. Journal of Business and Economic Statistics</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code>CoMoments</code>  <code><a href='ShrinkageMoments.html'>ShrinkageMoments</a></code>  <code><a href='StructuredMoments.html'>StructuredMoments</a></code>  <code><a href='EWMAMoments.html'>EWMAMoments</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>edhec</span>)

<span class='co'># coskewness matrix based on two components</span>
<span class='no'>M3mca</span> <span class='kw'>&lt;-</span> <span class='fu'>M3.MCA</span>(<span class='no'>edhec</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>2</span>)$<span class='no'>M3mca</span>

<span class='co'># screeplot MCA </span>
<span class='no'>M3dist</span> <span class='kw'>&lt;-</span> <span class='no'>M4dist</span> <span class='kw'>&lt;-</span> <span class='fu'>rep</span>(<span class='fl'>NA</span>, <span class='fu'>ncol</span>(<span class='no'>edhec</span>))
<span class='no'>M3S</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='CoMoments.html'>M3.MM</a></span>(<span class='no'>edhec</span>)  <span class='co'># sample coskewness estimator</span>
<span class='no'>M4S</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='CoMoments.html'>M4.MM</a></span>(<span class='no'>edhec</span>)  <span class='co'># sample cokurtosis estimator</span>
<span class='kw'>for</span> (<span class='no'>k</span> <span class='kw'>in</span> <span class='fl'>1</span>:<span class='fu'>ncol</span>(<span class='no'>edhec</span>)) {
  <span class='no'>M3MCA_list</span> <span class='kw'>&lt;-</span> <span class='fu'>M3.MCA</span>(<span class='no'>edhec</span>, <span class='no'>k</span>)
  <span class='no'>M4MCA_list</span> <span class='kw'>&lt;-</span> <span class='fu'>M4.MCA</span>(<span class='no'>edhec</span>, <span class='no'>k</span>)

  <span class='no'>M3dist</span>[<span class='no'>k</span>] <span class='kw'>&lt;-</span> <span class='fu'>sqrt</span>(<span class='fu'>sum</span>((<span class='no'>M3S</span> - <span class='no'>M3MCA_list</span>$<span class='no'>M3mca</span>)^<span class='fl'>2</span>))
  <span class='no'>M4dist</span>[<span class='no'>k</span>] <span class='kw'>&lt;-</span> <span class='fu'>sqrt</span>(<span class='fu'>sum</span>((<span class='no'>M4S</span> - <span class='no'>M4MCA_list</span>$<span class='no'>M4mca</span>)^<span class='fl'>2</span>))
}
<span class='fu'>par</span>(<span class='kw'>mfrow</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2</span>, <span class='fl'>1</span>))
<span class='fu'>plot</span>(<span class='fl'>1</span>:<span class='fu'>ncol</span>(<span class='no'>edhec</span>), <span class='no'>M3dist</span>)
<span class='fu'>plot</span>(<span class='fl'>1</span>:<span class='fu'>ncol</span>(<span class='no'>edhec</span>), <span class='no'>M4dist</span>)</div><div class='img'><img src='MCA-1.png' alt='' width='700' height='432.632880098887' /></div><div class='input'><span class='fu'>par</span>(<span class='kw'>mfrow</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>1</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Dries Cornilly

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Brian G. Peterson, Peter Carl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
